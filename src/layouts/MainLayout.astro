---
export interface Props {
  title?: string;
  description?: string;
  class?: string;
  hideHeader?: boolean;
}

const { title = "Alec Asgari - 18 Years of IT Industry Experience", description = "Alec Asgari with 18 years of experience in the IT industry, specializing in AI automation, CRM setup, and digital transformation solutions.", class: bodyClass, hideHeader = false } = Astro.props;

// Build canonical from site + current path
const base = Astro.site ?? new URL('https://alecasgari.com');
const path = Astro.url?.pathname ?? '/';
const search = Astro.url?.search ?? '';
const canonicalUrl = new URL(path + search, base).toString();
---

<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{title}</title>
  <meta name="description" content={description} />
  <meta name="google-site-verification" content="your-verification-code-here" />
  <link rel="canonical" href={canonicalUrl} />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://alecasgari.com/" />
  <meta property="og:title" content={title} />
  <meta property="og:description" content={description} />
  <meta property="og:image" content="/template/assets/images/hero-slider/hero-1.jpg" />
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://alecasgari.com/" />
  <meta property="twitter:title" content={title} />
  <meta property="twitter:description" content={description} />
  <meta property="twitter:image" content="/template/assets/images/hero-slider/hero-1.jpg" />
  
  <link rel="shortcut icon" type="image/png" href="/template/assets/images/logos/favicon.svg" />
  <link rel="stylesheet" href="/template/assets/libs/owl.carousel/dist/assets/owl.carousel.min.css">
  <link rel="stylesheet" href="/template/assets/libs/aos-master/dist/aos.css">
  <link rel="stylesheet" href="/template/assets/css/styles.css" />
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WLLGGB4P');</script>
  <!-- End Google Tag Manager -->
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-81C6JE60BQ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-81C6JE60BQ');
  </script>
  
  <style>
    .logo-img {
      height: 40px;
      width: auto;
      max-width: 200px;
    }
    
    .logo {
      display: flex;
      align-items: center;
    }
    
    .logo-white {
      display: block;
    }
    
    .logo-dark {
      display: none;
    }
    
    @media (max-width: 768px) {
      .logo-img {
        height: 35px;
      }
    }
    
    /* Fix mobile header overlap on non-home pages */
    @media (max-width: 991.98px) {
      body:not(.home-page) .header {
        background-color: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        z-index: 1050;
      }
      
      body:not(.home-page) .page-wrapper {
        padding-top: 80px;
      }
      
      body:not(.home-page) .logo-white {
        display: none;
      }
      
      body:not(.home-page) .logo-dark {
        display: block;
      }
    }
    
    /* Header scroll behavior for all pages except home */
    body:not(.home-page) .header {
      transition: all 0.3s ease;
    }
    
    body:not(.home-page) .header.scrolled {
      background-color: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
    }
    
    body:not(.home-page) .header.scrolled .logo-white {
      display: none;
    }
    
    body:not(.home-page) .header.scrolled .logo-dark {
      display: block;
    }

    /* Global: reduce heading sizes (H1–H5) by ~30% across breakpoints */
    h1, .h1 {
      font-size: calc(1.3475rem + 5.67vw);
    }
    @media (min-width: 1200px) {
      h1, .h1 {
        font-size: 5.6rem;
      }
    }

    h2, .h2 {
      font-size: calc(0.9975rem + 1.47vw);
    }
    @media (min-width: 1200px) {
      h2, .h2 {
        font-size: 2.1rem;
      }
    }

    h3, .h3 {
      font-size: calc(0.945rem + 0.84vw);
    }
    @media (min-width: 1200px) {
      h3, .h3 {
        font-size: 1.575rem;
      }
    }

    h4, .h4 {
      font-size: calc(0.91rem + 0.42vw);
    }
    @media (min-width: 1200px) {
      h4, .h4 {
        font-size: 1.225rem;
      }
    }

    h5, .h5 {
      font-size: 0.7875rem;
    }

    /* Reduce heading-sized utility classes when used on H1–H5 by ~30% */
    :is(h1,h2,h3,h4,h5).fs-2 { font-size: 0.525rem !important; }
    :is(h1,h2,h3,h4,h5).fs-3 { font-size: 0.6125rem !important; }
    :is(h1,h2,h3,h4,h5).fs-4 { font-size: 0.7rem !important; }
    :is(h1,h2,h3,h4,h5).fs-5 { font-size: 0.7875rem !important; }
    :is(h1,h2,h3,h4,h5).fs-6 { font-size: 0.875rem !important; }
    :is(h1,h2,h3,h4,h5).fs-7 { font-size: calc(0.8925rem + 0.21vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-8 { font-size: calc(0.91rem + 0.42vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-9 { font-size: calc(0.9275rem + 0.63vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-10 { font-size: calc(0.945rem + 0.84vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-11 { font-size: calc(0.9625rem + 1.05vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-12 { font-size: calc(0.9975rem + 1.47vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-13 { font-size: calc(1.0325rem + 1.89vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-14 { font-size: calc(1.05rem + 2.1vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-15 { font-size: calc(1.1025rem + 2.73vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-16 { font-size: calc(1.3475rem + 5.67vw) !important; }

    @media (min-width: 1200px) {
      :is(h1,h2,h3,h4,h5).fs-7 { font-size: 1.05rem !important; }
      :is(h1,h2,h3,h4,h5).fs-8 { font-size: 1.225rem !important; }
      :is(h1,h2,h3,h4,h5).fs-9 { font-size: 1.4rem !important; }
      :is(h1,h2,h3,h4,h5).fs-10 { font-size: 1.575rem !important; }
      :is(h1,h2,h3,h4,h5).fs-11 { font-size: 1.75rem !important; }
      :is(h1,h2,h3,h4,h5).fs-12 { font-size: 2.1rem !important; }
      :is(h1,h2,h3,h4,h5).fs-13 { font-size: 2.45rem !important; }
      :is(h1,h2,h3,h4,h5).fs-14 { font-size: 2.625rem !important; }
      :is(h1,h2,h3,h4,h5).fs-15 { font-size: 3.15rem !important; }
      :is(h1,h2,h3,h4,h5).fs-16 { font-size: 5.6rem !important; }
    }
  </style>

  <!-- Global heading overrides (apply site-wide) -->
  <style is:global>
    /* Global: reduce heading sizes (H1–H5) by ~30% across breakpoints */
    h1, .h1 { font-size: calc(1.3475rem + 5.67vw); }
    @media (min-width: 1200px) { h1, .h1 { font-size: 5.6rem; } }

    h2, .h2 { font-size: calc(0.9975rem + 1.47vw); }
    @media (min-width: 1200px) { h2, .h2 { font-size: 2.1rem; } }

    h3, .h3 { font-size: calc(0.945rem + 0.84vw); }
    @media (min-width: 1200px) { h3, .h3 { font-size: 1.575rem; } }

    h4, .h4 { font-size: calc(0.91rem + 0.42vw); }
    @media (min-width: 1200px) { h4, .h4 { font-size: 1.225rem; } }

    h5, .h5 { font-size: 0.7875rem; }

    /* Reduce heading-sized utility classes when used on H1–H5 by ~30% */
    :is(h1,h2,h3,h4,h5).fs-2 { font-size: 0.525rem !important; }
    :is(h1,h2,h3,h4,h5).fs-3 { font-size: 0.6125rem !important; }
    :is(h1,h2,h3,h4,h5).fs-4 { font-size: 0.7rem !important; }
    :is(h1,h2,h3,h4,h5).fs-5 { font-size: 0.7875rem !important; }
    :is(h1,h2,h3,h4,h5).fs-6 { font-size: 0.875rem !important; }
    :is(h1,h2,h3,h4,h5).fs-7 { font-size: calc(0.8925rem + 0.21vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-8 { font-size: calc(0.91rem + 0.42vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-9 { font-size: calc(0.9275rem + 0.63vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-10 { font-size: calc(0.945rem + 0.84vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-11 { font-size: calc(0.9625rem + 1.05vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-12 { font-size: calc(0.9975rem + 1.47vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-13 { font-size: calc(1.0325rem + 1.89vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-14 { font-size: calc(1.05rem + 2.1vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-15 { font-size: calc(1.1025rem + 2.73vw) !important; }
    :is(h1,h2,h3,h4,h5).fs-16 { font-size: calc(1.3475rem + 5.67vw) !important; }

    @media (min-width: 1200px) {
      :is(h1,h2,h3,h4,h5).fs-7 { font-size: 1.05rem !important; }
      :is(h1,h2,h3,h4,h5).fs-8 { font-size: 1.225rem !important; }
      :is(h1,h2,h3,h4,h5).fs-9 { font-size: 1.4rem !important; }
      :is(h1,h2,h3,h4,h5).fs-10 { font-size: 1.575rem !important; }
      :is(h1,h2,h3,h4,h5).fs-11 { font-size: 1.75rem !important; }
      :is(h1,h2,h3,h4,h5).fs-12 { font-size: 2.1rem !important; }
      :is(h1,h2,h3,h4,h5).fs-13 { font-size: 2.45rem !important; }
      :is(h1,h2,h3,h4,h5).fs-14 { font-size: 2.625rem !important; }
      :is(h1,h2,h3,h4,h5).fs-15 { font-size: 3.15rem !important; }
      :is(h1,h2,h3,h4,h5).fs-16 { font-size: 5.6rem !important; }
    }
  </style>
</head>

<body class={bodyClass}>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WLLGGB4P"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- Header -->
  {!hideHeader && (
  <header class="header border-4 border-primary border-top position-fixed start-0 top-0 w-100">
    <div class="container">
      <div class="header-wrapper d-flex align-items-center justify-content-between">
        <div class="logo">
          <a href="/" class="logo-white">
            <img src="/template/assets/images/logos/logo-white.svg" alt="logo" class="logo-img">
          </a>
          <a href="/" class="logo-dark">
            <img src="/template/assets/images/logos/logo-dark.svg" alt="logo" class="logo-img">
          </a>
        </div>
        <div class="d-flex align-items-center gap-4">

          <div class="btn-group">
            <button
              class="btn btn-secondary toggle-menu round-45 p-2 d-flex align-items-center justify-content-center bg-white rounded-circle"
              type="button" data-bs-toggle="dropdown" data-bs-auto-close="true" aria-expanded="false">
              <iconify-icon icon="solar:hamburger-menu-line-duotone" class="menu-icon fs-8 text-dark"></iconify-icon>
            </button>
            <ul class="dropdown-menu dropdown-menu-end p-4">
              <div class="d-flex flex-column gap-6">
                <div class="hstack justify-content-between border-bottom pb-6">
                  <p class="mb-0 fs-5 text-dark">Menu</p>
                  <button type="button" class="btn-close opacity-75" aria-label="Close"></button>
                </div>
                <div class="d-flex flex-column gap-3">
                  <ul class="header-menu list-unstyled mb-0 d-flex flex-column gap-2">
                    <li class="header-item">
                      <a href="/" aria-current="true"
                        class="header-link active hstack gap-2 fs-7 fw-bold text-dark"><img
                          src="/template/assets/images/svgs/secondary-leaf.svg" alt="" width="20" height="20"
                          class="img-fluid animate-spin">Home</a>
                    </li>
                    <li class="header-item">
                      <a href="/about" class="header-link hstack gap-2 fs-7 fw-bold text-dark"><img
                          src="/template/assets/images/svgs/secondary-leaf.svg" alt="" width="20" height="20"
                          class="img-fluid animate-spin">About</a>
                    </li>
                    <li class="header-item">
                      <a href="/projects" class="header-link hstack gap-2 fs-7 fw-bold text-dark"><img
                          src="/template/assets/images/svgs/secondary-leaf.svg" alt="" width="20" height="20"
                          class="img-fluid animate-spin">Projects</a>
                    </li>
                    <li class="header-item">
                      <a href="/blog" class="header-link hstack gap-2 fs-7 fw-bold text-dark"><img
                          src="/template/assets/images/svgs/secondary-leaf.svg" alt="" width="20" height="20"
                          class="img-fluid animate-spin">Blog</a>
                    </li>
                    <li class="header-item">
                      <a href="/services" class="header-link hstack gap-2 fs-7 fw-bold text-dark"><img
                          src="/template/assets/images/svgs/secondary-leaf.svg" alt="" width="20" height="20"
                          class="img-fluid animate-spin">Services</a>
                    </li>
                    <li class="header-item">
                      <a href="/contact" class="header-link hstack gap-2 fs-7 fw-bold text-dark"><img
                          src="/template/assets/images/svgs/secondary-leaf.svg" alt="" width="20" height="20"
                          class="img-fluid animate-spin">Contact</a>
                    </li>
                    <li class="header-item">
                      <a href="/docs" class="header-link hstack gap-2 fs-7 fw-bold text-dark"><img
                          src="/template/assets/images/svgs/secondary-leaf.svg" alt="" width="20" height="20"
                          class="img-fluid animate-spin">Docs</a>
                    </li>
                  </ul>
                  <div class="hstack gap-3">
                    <a href="/admin"
                      class="btn btn-outline-light fs-6 bg-white px-3 py-2 text-dark w-50 hstack justify-content-center">Login
                      </a>
                    <a href="/admin"
                      class="btn btn-dark text-white fs-6 bg-dark px-3 py-2 w-50 hstack justify-content-center">Register
                      </a>
                  </div>
                </div>
                <div>
                  <a class="text-dark" href="tel:+971504302948">+971504302948</a>
                  <a class="fs-8 text-dark fw-bold" href="mailto:hello@alecasgari.com">hello@alecasgari.com</a>
                </div>
              </div>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </header>
  )}

  <!--  Page Wrapper -->
  <div class="page-wrapper overflow-hidden">
    <!-- Main Content Slot -->
    <slot />
  </div>

  <!-- Footer -->
  <footer class="footer bg-dark py-5 py-lg-11 py-xl-12">
    <div class="container">
      <div class="row">
        <div class="col-xl-5 mb-8 mb-xl-0">
          <div class="d-flex flex-column gap-8 pe-xl-5">
            <h2 class="mb-0 text-white">Build something together?</h2>
            <div class="d-flex flex-column gap-2">
              <a href="mailto:hello@alecasgari.com" class="link-hover hstack gap-3 text-white fs-5">
                <iconify-icon icon="lucide:mail" class="fs-7 text-primary"></iconify-icon>
                hello@alecasgari.com
              </a>
              <a href="tel:+971504302948" class="link-hover hstack gap-3 text-white fs-5">
                <iconify-icon icon="lucide:phone" class="fs-7 text-primary"></iconify-icon>
                +971 50 430 2948
              </a>
              <a href="https://maps.app.goo.gl/hpDp81fqzGt5y4bC8" target="_blank"
                class="link-hover hstack gap-3 text-white fs-5">
                <iconify-icon icon="lucide:map-pin" class="fs-7 text-primary"></iconify-icon>
                No1409, Regal Tower, Business Bay, Dubai, UAE
              </a>
            </div>
          </div>
        </div>
        <div class="col-md-4 col-xl-2 mb-8 mb-xl-0">
          <ul class="footer-menu list-unstyled mb-0 d-flex flex-column gap-2">
            <li><a class="link-hover fs-5 text-white" href="/">Home</a></li>
            <li><a class="link-hover fs-5 text-white" id="services" href="#services">Services</a></li>
            <li><a class="link-hover fs-5 text-white" href="/about">Process</a></li>
            <li><a class="link-hover fs-5 text-white" href="/blog">Blog</a></li>
            <li><a class="link-hover fs-5 text-white" href="/privacy-policy">Privacy Policy</a></li>
          </ul>
        </div>
        <div class="col-md-4 col-xl-2 mb-8 mb-xl-0">
          <ul class="footer-menu list-unstyled mb-0 d-flex flex-column gap-2">
            <li><a class="link-hover fs-5 text-white" href="https://www.linkedin.com/in/alecasgari/" target="_blank">LinkedIn</a></li>
            <li><a class="link-hover fs-5 text-white" href="https://github.com/alecasgari" target="_blank">GitHub</a></li>
            <li><a class="link-hover fs-5 text-white" href="https://wa.me/971504302948?text=Hi%20from%20your%20website" target="_blank">WhatsApp</a></li>
          </ul>
        </div>
        <div class="col-md-4 col-xl-3 mb-8 mb-xl-0">
          <p class="mb-0 text-white text-opacity-70 text-md-end">© 2025 Alec Asgari. All Rights Reserved.</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scroll to Top Button -->
  <div class="get-template hstack gap-2">
    <button class="btn bg-primary p-2 round-52 rounded-circle hstack justify-content-center flex-shrink-0"
      id="scrollToTopBtn">
      <iconify-icon icon="lucide:arrow-up" class="fs-7 text-dark"></iconify-icon>
    </button>
  </div>

  <!-- Scripts -->
  <script src="/template/assets/libs/jquery/dist/jquery.min.js" is:inline></script>
  <script src="/template/assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js" is:inline></script>
  <script src="/template/assets/libs/owl.carousel/dist/owl.carousel.min.js" is:inline></script>
  <script src="/template/assets/libs/aos-master/dist/aos.js" is:inline></script>
  <script src="/template/assets/js/custom.js" is:inline></script>
  <!-- solar icons -->
  <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.8/dist/iconify-icon.min.js" is:inline></script>
  
  <!-- Header scroll behavior -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const header = document.querySelector('.header');
      
      // Only apply scroll behavior if header exists and not home page
      if (header && !document.body.classList.contains('home-page')) {
        function handleScroll() {
          if (window.scrollY > 50) {
            header.classList.add('scrolled');
          } else {
            header.classList.remove('scrolled');
          }
        }
        
        window.addEventListener('scroll', handleScroll);
        handleScroll(); // Check initial state
      }
    });
  </script>
</body>

</html>
