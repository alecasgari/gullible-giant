---
// Meet Our Team Section Component
import { client } from '../../tina/__generated__/client';

// Fetch team members from TinaCMS
const { data } = await client.queries.teamConnection();
const teamMembers = data.teamConnection.edges.map(edge => edge.node);
---

<!--  Meet our team Section -->
<section class="meet-our-team py-5 py-lg-11 py-xl-12">
  <div class="container">
    <div class="d-flex flex-column gap-5 gap-xl-11">
      <div class="row gap-7 gap-xl-0">
        <div class="col-xl-4 col-xxl-4">
          <div class="d-flex align-items-center gap-7 py-2" data-aos="fade-right" data-aos-delay="100"
            data-aos-duration="1000">
            <span
              class="round-36 flex-shrink-0 text-dark rounded-circle bg-primary hstack justify-content-center fw-medium">06</span>
            <hr class="border-line bg-white">
            <span class="badge text-bg-dark">The team</span>
          </div>
        </div>
        <div class="col-xl-8 col-xxl-7">
          <div class="row">
            <div class="col-xxl-8">
              <div class="d-flex flex-column gap-6" data-aos="fade-up" data-aos-delay="100"
                data-aos-duration="1000">
                <h2 class="mb-0">Meet our team</h2>
                <p class="fs-5 mb-0 text-opacity-70">Our team is committed to redefining digital experiences through
                  innovative web solutions while fostering a diverse and collaborative environment.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        {teamMembers.map((member, index) => (
          <div class="col-md-6 col-xl-3 mb-7 mb-xl-0">
            <div class="meet-team d-flex flex-column gap-4" data-aos="fade-up" data-aos-delay={`${(index + 1) * 100}`}
              data-aos-duration="1000">
              <div class="meet-team-img position-relative overflow-hidden">
                <img src={member.image} alt={member.name} class="img-fluid w-100">
                <div class="meet-team-overlay p-7 d-flex flex-column justify-content-end">
                  <ul class="social list-unstyled mb-0 hstack gap-2 justify-content-end">
                    {member.twitter && (
                      <li>
                        <a href={member.twitter}
                          class="btn bg-white p-2 round-45 rounded-circle hstack justify-content-center">
                          <img src="/template/assets/images/svgs/icon-twitter.svg" alt="twitter">
                        </a>
                      </li>
                    )}
                    {member.behance && (
                      <li>
                        <a href={member.behance}
                          class="btn bg-white p-2 round-45 rounded-circle hstack justify-content-center">
                          <img src="/template/assets/images/svgs/icon-be.svg" alt="behance">
                        </a>
                      </li>
                    )}
                    {member.linkedin && (
                      <li>
                        <a href={member.linkedin}
                          class="btn bg-white p-2 round-45 rounded-circle hstack justify-content-center">
                          <img src="/template/assets/images/svgs/icon-linkedin.svg" alt="linkedin">
                        </a>
                      </li>
                    )}
                  </ul>
                </div>
              </div>
              <div class="meet-team-details">
                <h4 class="mb-0">{member.name}</h4>
                <p class="mb-0">{member.position}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>